{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\straw\\\\Desktop\\\\personal\\\\fabflix-remake\\\\front-end\\\\src\\\\components\\\\fulltext-search\\\\fulltext.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FulltextInput = () => {\n  _s();\n  const [value, setValue] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [suggestionsMap, setSuggestionsMap] = useState({});\n  const fetchSuggestions = async input => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/fulltext?input=${input}`);\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      return null; // Return null or some default value in case of error\n    }\n  };\n\n  const handleSuggestions = async event => {\n    const inputValue = event.target.value;\n    if (suggestionsMap[inputValue]) {\n      setSuggestions([]);\n      return [];\n    } else {\n      // undefined\n      const suggestions = await fetchSuggestions(inputValue);\n      setSuggestionsMap(prevSuggestions => ({\n        ...prevSuggestions,\n        [inputValue]: suggestions\n      }));\n      setSuggestions(suggestions);\n      return suggestions;\n    }\n  };\n  const fetchData = event => {\n    event.preventDefault();\n    const inputValue = event.target.fsInput.value;\n    console.log(inputValue);\n  };\n  return /*#__PURE__*/_jsxDEV(Autosuggest, {\n    suggestions: suggestions,\n    onSuggestionsFetchRequested: onSuggestionsFetchRequested,\n    onSuggestionsClearRequested: onSuggestionsClearRequested,\n    getSuggestionValue: getSuggestionValue,\n    renderSuggestion: renderSuggestion,\n    inputProps: inputProps\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n  // return (\n  //     <div className=\"search-component h-100\">\n  //         <form className=\"d-flex input-group w-auto\" onSubmit={fetchData}>\n  //             <input\n  //                 name='fsInput'\n  //                 type=\"search\"\n  //                 className=\"me-0 rounded-left search-input\"\n  //                 placeholder=\"Fulltext Search\"\n  //                 aria-label=\"Search\"\n  //                 aria-describedby=\"search-addon\"\n  //                 onChange={handleSuggestions}\n  //             />\n  //             <button type='submit' className='rounded-right search-button' variant='outline-primary'>\n  //                 <FontAwesomeIcon icon={faSearch} />\n  //             </button>\n  //         </form>\n  //     </div>z\n  // )\n};\n_s(FulltextInput, \"4xMBjADrqbCEkQe2ZUBLNabOZdY=\");\n_c = FulltextInput;\nexport default FulltextInput;\nvar _c;\n$RefreshReg$(_c, \"FulltextInput\");","map":{"version":3,"names":["React","useState","Autosuggest","FontAwesomeIcon","faSearch","jsxDEV","_jsxDEV","FulltextInput","_s","value","setValue","suggestions","setSuggestions","suggestionsMap","setSuggestionsMap","fetchSuggestions","input","response","fetch","data","json","error","console","handleSuggestions","event","inputValue","target","prevSuggestions","fetchData","preventDefault","fsInput","log","onSuggestionsFetchRequested","onSuggestionsClearRequested","getSuggestionValue","renderSuggestion","inputProps","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/straw/Desktop/personal/fabflix-remake/front-end/src/components/fulltext-search/fulltext.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst FulltextInput = () => {\r\n    const [value, setValue] = useState('');\r\n    const [suggestions, setSuggestions] = useState([]);\r\n    const [suggestionsMap, setSuggestionsMap] = useState({});\r\n\r\n    const fetchSuggestions = async (input) => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5000/api/fulltext?input=${input}`);\r\n            const data = await response.json();\r\n            return data;\r\n          } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n            return null; // Return null or some default value in case of error\r\n          }\r\n    }\r\n\r\n    const handleSuggestions = async (event) => {\r\n        const inputValue = event.target.value;\r\n\r\n        if ( suggestionsMap[inputValue] ) {\r\n            setSuggestions([]);\r\n            return [];\r\n        } else { // undefined\r\n            const suggestions = await fetchSuggestions(inputValue);\r\n            setSuggestionsMap(\r\n                prevSuggestions => ({\r\n                    ...prevSuggestions,\r\n                    [inputValue]: suggestions\r\n                })\r\n            )\r\n            setSuggestions(suggestions);\r\n            return suggestions;\r\n        }\r\n    }\r\n\r\n    const fetchData = (event) => {\r\n        event.preventDefault();\r\n        \r\n        const inputValue = event.target.fsInput.value;\r\n\r\n        console.log(inputValue);\r\n    }\r\n\r\n\r\n    return (\r\n        <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={onSuggestionsClearRequested}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        inputProps={inputProps}\r\n        />\r\n    );\r\n    // return (\r\n    //     <div className=\"search-component h-100\">\r\n    //         <form className=\"d-flex input-group w-auto\" onSubmit={fetchData}>\r\n    //             <input\r\n    //                 name='fsInput'\r\n    //                 type=\"search\"\r\n    //                 className=\"me-0 rounded-left search-input\"\r\n    //                 placeholder=\"Fulltext Search\"\r\n    //                 aria-label=\"Search\"\r\n    //                 aria-describedby=\"search-addon\"\r\n    //                 onChange={handleSuggestions}\r\n    //             />\r\n    //             <button type='submit' className='rounded-right search-button' variant='outline-primary'>\r\n    //                 <FontAwesomeIcon icon={faSearch} />\r\n    //             </button>\r\n    //         </form>\r\n    //     </div>z\r\n    // )\r\n}\r\n\r\nexport default FulltextInput;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,QAAQ,QAAQ,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7D,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACY,cAAc,EAAEC,iBAAiB,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC;EAExD,MAAMc,gBAAgB,GAAG,MAAOC,KAAK,IAAK;IACtC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,4CAA2CF,KAAM,EAAC,CAAC;MACjF,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5C,OAAO,IAAI,CAAC,CAAC;IACf;EACN,CAAC;;EAED,MAAME,iBAAiB,GAAG,MAAOC,KAAK,IAAK;IACvC,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAM,CAACjB,KAAK;IAErC,IAAKI,cAAc,CAACY,UAAU,CAAC,EAAG;MAC9Bb,cAAc,CAAC,EAAE,CAAC;MAClB,OAAO,EAAE;IACb,CAAC,MAAM;MAAE;MACL,MAAMD,WAAW,GAAG,MAAMI,gBAAgB,CAACU,UAAU,CAAC;MACtDX,iBAAiB,CACba,eAAe,KAAK;QAChB,GAAGA,eAAe;QAClB,CAACF,UAAU,GAAGd;MAClB,CAAC,CACL,CAAC;MACDC,cAAc,CAACD,WAAW,CAAC;MAC3B,OAAOA,WAAW;IACtB;EACJ,CAAC;EAED,MAAMiB,SAAS,GAAIJ,KAAK,IAAK;IACzBA,KAAK,CAACK,cAAc,CAAC,CAAC;IAEtB,MAAMJ,UAAU,GAAGD,KAAK,CAACE,MAAM,CAACI,OAAO,CAACrB,KAAK;IAE7Ca,OAAO,CAACS,GAAG,CAACN,UAAU,CAAC;EAC3B,CAAC;EAGD,oBACInB,OAAA,CAACJ,WAAW;IACZS,WAAW,EAAEA,WAAY;IACzBqB,2BAA2B,EAAEA,2BAA4B;IACzDC,2BAA2B,EAAEA,2BAA4B;IACzDC,kBAAkB,EAAEA,kBAAmB;IACvCC,gBAAgB,EAAEA,gBAAiB;IACnCC,UAAU,EAAEA;EAAW;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtB,CAAC;EAEN;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACJ,CAAC;AAAAhC,EAAA,CAxEKD,aAAa;AAAAkC,EAAA,GAAblC,aAAa;AA0EnB,eAAeA,aAAa;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}